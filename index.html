<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport", content="width=device-width", initial-scale="1.0">
    <title>Snake Game</title>
   <style>body {
   font-family:'Courier New', Courier, monospace ;
   text-align: center;
}
</style>
<script>
// board 
var blockSize=25;
var rows=20;
var cols=20;
var context;

//snake head
var snakeX=blockSize * 5;
var snakeY=blockSize * 5;

var velocityX =0;
var velocityY=0;

var snakeBody=[];
var snakeSpeed=1;
//food
var foodX;
var foodY;

var score=0;
  var  snakevoid=false


var gameOver= false;
window.onload = function(){
    board = document.getElementById("board");
   
    

    board.height = rows * blockSize;
    board.width = cols * blockSize;
    context = board.getContext("2d");
    placeFood();
    document.addEventListener("keyup", changeDirection);
    
    //update();
    setInterval(update , 1000/10);
}

function update(){
   if(gameOver==true){
    
    return;
   }
   if(snakevoid==true)
   {
   snakeColor="purple"
   }
   else
   {
    snakeColor="green"
   }

   context.fillStyle="black";
    context.fillRect(0, 0, board.width, board.height);
    //food
    context.fillStyle="red";
    context.fillRect(foodX,foodY,blockSize,blockSize);
    //score text
    document.getElementById('score').innerHTML=score
   
    //snake
    if(snakeX ==foodX&&snakeY==foodY){
        snakeBody.push([foodX,foodY])
        score+=1
            placeFood();
        if(void=true){
       gameOver=true; 
        }
    }
   
   for(let i =snakeBody.length-1; i>0; i--){
        snakeBody[i] = snakeBody[i-1];
   }
   if(snakeBody.length){
        snakeBody[0]= [snakeX,snakeY,blockSize,blockSize];
   }
   
    context.fillStyle="snakeColor";
    snakeX += velocityX*blockSize;
    snakeY += velocityY*blockSize;
    context.fillRect(snakeX,snakeY,blockSize,blockSize);
    for (let i =0; i <snakeBody.length; i++){
        context.fillRect(snakeBody[i][0], snakeBody[i][1],blockSize,blockSize);
    }
    
    //gameOver conditions
if(snakeX<0 || snakeX > cols*blockSize||snakeY<0|| snakeY>rows*blockSize){
    gameOver=true;
    alert("Game Over Press Space To Reset");
}

for (let i =0; i <snakeBody.length; i++ && snakevoid==false){
     if(snakeX == snakeBody[i][0]&&snakeY == snakeBody[i][1]){
         gameOver=true;
         alert("Game Over Press Space To Reset");
         }    
    }
    
}

function changeDirection(e){
    if (e.code=="ArrowUp" && velocityY !=1){
        velocityX=0*snakeSpeed;
        velocityY=-1*snakeSpeed;
    }
    else if (e.code=="ArrowDown"&& velocityY !=-1){
        velocityX=0*snakeSpeed;
        velocityY=1*snakeSpeed;
    }
    else if (e.code=="ArrowLeft"&& velocityX !=1){
        velocityX=-1*snakeSpeed;
        velocityY=0*snakeSpeed;
    }
    else if (e.code=="ArrowRight"&& velocityX !=-1){
        velocityX=1*snakeSpeed;
        velocityY=0*snakeSpeed;
    }
    else if (e.code=="Space"){
        gameOver=false;
        snakeBody=[];
        placeFood();
        snakeX=blockSize*5;
        snakeY=blockSize*5;
        velocityX=0
        velocityY=0
        score=0
        snakeSpeed=1;
    }
    else if (e.code=="Key.Q"){
    snakevoid= true;
    }
    else if (e.code=!"Key.Q"){
    snakevoid=false ;
    }
}

function placeFood(){
    foodX=Math.floor(Math.random()* cols)*blockSize;
    foodY=Math.floor(Math.random()* rows)*blockSize;
}

</script>
</head>
<body>
<h1> snake</h1>
<canvas id="board"></canvas>
<p id="score"> </p>
</body>

</html>
